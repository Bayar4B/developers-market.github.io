<html>
<head>
  <!-- Plotly.js -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
<!-- Plotly chart will be drawn inside this DIV -->
<div id="myDiv"></div>
  <script>
  Plotly.d3.csv("https://raw.githubusercontent.com/Xoeseko/sdg.market/gh-pages/data%20visualisations/contributionsByDate.csv", function(err, rows){
 
  function unpack(rows, key) { //get the function row and key from the src
  return rows.map(function(row) { return row[key]; });
}

var trace1 = { //trace the line
  type: "scatter",
  mode: "line",
  name: 'Token',
  x: unpack(rows, 'commit_date'), //choose from the header your x
  y: unpack(rows, 'transaction.nb_tokens'), //choose from the header your y
  line: {color: '#f182a3'}
}


var data = [trace1];
    
var layout = { //draw the char we want
  title: 'Tokens generated', 
  xaxis: {
    autorange: true, //we can also set the range mnually with  "range: ['date1', 'date2'],"
    rangeselector: {buttons: [
        {
          count: 1, 
          label: '1m', 
          step: 'month', 
          stepmode: 'backward'
        }, 
        {
          count: 6, 
          label: '6m', 
          step: 'month', 
          stepmode: 'backward'
        }, 
        {step: 'all'}
      ]}, 
    rangeslider: {autorange: true}, 
    type: 'date'
  }, 
  yaxis: {
    autorange: true, 
    range: [86.8700008333, 138.870004167], 
    type: 'linear'
  }
};

Plotly.newPlot('myDiv', data, layout);
})

  </script>
</body>
</html>
